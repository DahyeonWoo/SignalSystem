# Step Counting Program
2022년 1학기 신호 및 시스템 Team Project: 걸음 수 측정 신호처리 설계 프로젝트

## 📢 프로젝트 소개
가속도계를 사용한 걸음 수 측정 신호처리 Matlab을 설계한다.

## 📆 개발 기간
2022.05.10 ~ 2022.05.24

## 🔑 Algorithm

### 1. G 단위 신호 스케일링(단위 정량화)

- 가속도 센서의 임베디드 설정에 따라 측정값의 범위가 달라질 수 있으므로 가속도 크기의 단위 중 하나인 중력(G) 단위 가속도로 변환하여 사용한다.

### 2. 가속도 모멘텀 산출

- 모멘텀(Momentum)은 운동량으로서 물체의 질량과 속도의 곱으로 표현된다. 가속도 신호에서의 모멘텀은 각 축별 가속도 신호에서 방향성을 제거한 가속도 크기를 뜻한다. 모멘텀을 구한 후 모멘텀의 값을 0 을 기준으로 normalization 시키기 위해 평균값을 구한다. 모멘텀에서 평균값을 뺀 값을 출력한다.

### 3. 모멘텀 신호 전처리(노이즈 제거)

- 모멘텀 신호 그래프에서 잡음 성분을 제거하기 위해 LPF(Low Pass Filter)를 적용한다. Designfilt 함수를 사용했다. 세부적으로는 Sampling Frequency = 32Hz, Order = 5, Cut-off Frequency = 0.5Hz 로 설정했다.

### 4. 피크/밸리(Peak/Valley) 검출

- 양자화 된 신호로부터 걸음 수를 검출하기 위해 피크와 밸리 포인트를 이용하기 때문에 수식을 이용하여 피크/밸리 포인트를 검출한다. 

### 5. 걸음 수 검출

- 현재의 피크 값, 이전 피크 값, 현재 피크 값과 이전 밸리 값의 차이, 피크사이의 거리를 통해 ‘걸음 판단 흐름도’를 작성하고 흐름도를 모두 통과하면 걷기 행동이라 판단한다.

### 6. 평가

- 경과 시간은 0.829466 초, 인식률은 94.4%로 나왔다.
- 알고리즘 추정 횟수는 67 회이다. 발걸음수는 step_signal 발생점을 모두 더하는 것으로 알 수 있다.

